# 3D Cosmic Structure Formation Simulation

宇宙の膨張と重力による構造形成（Cosmic Web）を再現した3Dシミュレーションです。
7,000個の粒子が互いに重力で引き合いながら、膨張する空間の中でフィラメント状の構造（ボイドとクラスター）を形成していく様子をWebブラウザ上で観察できます。

[👉 デモをブラウザで試す](https://funmatu.github.io/cosmic-structure-simulation/)

## 概要

初期宇宙の微細な密度のゆらぎが、重力によってどのように成長し、銀河団や大規模構造を形成するかを模したN体シミュレーションです。

時間が経過するにつれて、均一に散らばっていた粒子が重力によって引き寄せられ、「コズミック・ウェブ（宇宙の網）」と呼ばれる網の目状の構造へと進化していきます。



## 技術的な特徴：グリッド法による最適化

このシミュレーションでは、7,000個の粒子の相互作用をリアルタイムで計算するために、**空間分割（Spatial Partitioning / Grid Method）** を採用しています。

* **単純な計算 ($O(N^2)$)**: 全粒子が全粒子と計算を行うと、計算量が爆発的に増え、ブラウザでは動きません。
* **グリッド法 ($O(N)$)**: 空間を格子状（Grid）に分割し、「近くにいる粒子（近傍セル）」とのみ重力計算を行うことで、劇的な高速化を実現しています。



## 操作方法

* **左ドラッグ**: カメラの回転
* **右ドラッグ**: カメラの移動（パン）
* **ホイール**: ズームイン / アウト
* **ダブルクリック**: シミュレーションのリセット（初期化）

## パラメータ設定
シミュレーションは以下の物理法則に基づいています。
* **Expansion**: 空間そのものが広がる力（ダークエネルギーに相当）
* **Gravity**: 粒子同士が引き合う力
* **Repulsion**: 粒子が近づきすぎた際の反発力（縮退圧のような役割）

## 技術スタック
* HTML5 / JavaScript (ES Modules)
* [Three.js](https://threejs.org/) (WebGL Rendering)

---
License: MIT
